<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.css" />
    <title>Account Manager</title>
  </head>
  <body>
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.js"></script>
    <script src="control/main.js"></script>
    <script src="control/create.js"></script>
    <script src="control/reset.js"></script>
    <script src="control/session.js"></script>
    <script>
      let noloading_pages = 6;
      let nopages_loaded = 0;
      $(document).bind("mobileinit", function() {
       $.mobile.pushStateEnabled = false;
      });
      $(document).ready(function() {
        $(document).on("pagecontainerload", function(event, ui) {
          nopages_loaded ++; // increasing the page counter 
          if(noloading_pages == nopages_loaded) { // if the page is last one. 
            console.log("navigating to page_main...");
            $.mobile.pageContainer.pagecontainer("change", "#page_main");
            console.log("navigating done!");
          } 
        });
        console.log("loading pagecontainers...");
        $.mobile.pageContainer.pagecontainer("load", "view/main.html");
        $.mobile.pageContainer.pagecontainer("load", "view/create.html");
        $.mobile.pageContainer.pagecontainer("load", "view/reset_phase_1.html");
        $.mobile.pageContainer.pagecontainer("load", "view/reset_phase_2.html");
        $.mobile.pageContainer.pagecontainer("load", "view/session_main.html"); 
        $.mobile.pageContainer.pagecontainer("load", "view/session_account_edit.html");
        console.log("pagecontainer-load done!");
      });
    </script>
  </body>
</html>